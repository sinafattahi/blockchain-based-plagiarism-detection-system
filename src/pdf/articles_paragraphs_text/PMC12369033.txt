To create and verify a machine learning model that integrates social determinants of health (SDoH) for assessing post-stroke depression (PSD) and examining the association between SDoH and disease outcomes.

Data were acquired from the National Health and Nutrition Examination Survey. Logistic regression was employed to analyse the association between SDoH and PSD, whereas Cox regression was utilized to assess the correlation between SDoH and all-cause mortality in PSD. The Boruta algorithm was employed for feature selection, and four machine learning models were constructed (CatBoost, Logistic, Multilayer Perceptron, and Random Forest) to evaluate the predictive effectiveness, calibration, and clinical applicability of these ML models. SHAP values were computed to ascertain the predictive significance of each feature in the model that exhibited the highest predictive performance.

Logistic regression analysis revealed a significant positive correlation between SDoH and PSD prevalence(pfor trend < 0.0001). Compared to the other three models, CatBoost (AUC = 0.966) demonstrated the best overall predictive performance. Moreover, the decision curve analysis (DCA) and calibration curve findings demonstrated that the CatBoost model possessed considerable clinical utility and consistent predictive efficacy. The ten-fold cross-validation method further confirmed the model’s robustness and generalization ability.

A linear relationship exists between SDoH and PSD, with CatBoost demonstrating the best performance in predicting PSD. SHAP values emphasize the importance of SDoH.

The online version contains supplementary material available at 10.1186/s12889-025-24220-y.

Post-Stroke Depression (PSD) is one of the most common neuropsychiatric disorders in stroke patients, occurring in approximately one-third of cases [1,2]. PSD not only greatly diminishes patients’ quality of life but also negatively affects their rehabilitation and long-term prognosis. PSD hinders functional recovery, negatively affecting limb mobility, daily activities, and social engagement [3]. Additionally, it correlates with higher rates of rehospitalization and mortality among stroke patients [4]. Furthermore, PSD increases the risk of post-stroke complications (e.g., cardiovascular events) and exacerbates the economic and psychological burden on patients and their families [2]. Consequently, the prompt recognition and intervention of PSD, along with the development of innovative clinical prediction models, are crucial for enhancing patients’ rehabilitation outcomes and long-term health prognoses.

Social Determinants of Health (SDoH) refer to non-medical elements that impact an individual’s health. These include social, economic, environmental, and cultural factors, such as income, education, employment, social support, living conditions, and access to healthcare [5]. SDoH play a significant role, and an increasing number of studies have recognized it as a critical factor in disease prediction and health interventions [6]. With regard to disease occurrence, SDoH increases the risk of chronic diseases and mental illnesses by shaping an individual’s lifestyle, health behaviors, and psychological state. For instance, low-income populations often face a greater disease burden due to limited access to healthcare, higher life stress, and poorer living conditions [7]. Regarding disease progression and prognosis, poor social health conditions may hinder recovery and exacerbate health inequalities. For example, social isolation and a lack of support are frequently associated with poorer mental health and an increased risk of depression [8].

There is limited research in the literature that provides an in-depth assessment of the correlation between SDOH and PSD. Some studies have proposed that factors like low income, limited educational attainment, and social isolation could be linked to the onset of post-stroke depression [9–11]. These factors are frequently omitted from a comprehensive analytical framework, leading to fragmented and inconsistent findings. Furthermore, the relationship between SDOH and PSD, along with its relative significance, remains inadequately quantified, particularly in large-scale multivariate analyses.

Integrating machine learning (ML) with SHAP (Shapley Additive exPlanations) values is crucial for examining the relationship between SDoH and PSD. ML has demonstrated considerable strength in medical prediction [12], particularly in handling multivariate and non-linear relationships. Its capacity for multivariate analysis allows for the simultaneous consideration of multiple factors, capturing complex inter-variable relationships. Additionally, ML excels in handling non-linear relationships and identifying complex patterns in data, making it suitable for a broad range of predictive tasks in the medical field [13]. SHAP values offer clarity in model decision-making and improve interpretability by quantifying the influence of each feature on the model’s output [14]. The integration of ML and SHAP values helps identify and quantify the correlation between SDoH and PSD, providing a foundation for developing individualized intervention plans to improve patient outcomes.

This research employed data from seven NHANES cycles from 2005 to 2018, encompassing a total of 70,190 individuals. All participants provided informed consent. Following the application of the inclusion and exclusion criteria outlined in Supplementary Fig.1, a total of 1,112 participants were finally incorporated into the study.

In this study, SDoH were utilised as the exposure variable. Eight critical SDoH were identified: employment status, household income-to-poverty ratio, food security, educational attainment, access to healthcare, health insurance coverage, homeownership, and marital status or cohabitation with a partner [15]. A cumulative SDoH variable was generated by aggregating the eight dichotomous SDoH, assigning a value of 0 to each favourable level and a value of 1 to each unfavourable level for the SDoH utilised in this investigation. The outcome variable was PSD. The stroke status of all participants was established based on a positive response to the inquiry: “Has a doctor or other health professional ever informed you that you have had a stroke?” Depressive symptoms were evaluated via PHQ-9 [16–19]. PSD was characterised by fulfilling the criteria for stroke and possessing a PHQ-9 score of ≥ 10.

Based on clinical experience and previous reports in the literature, potential variables that may confound the relationship between SDoH and PSD were included as covariates in this study. Demographic and health status variables were regarded as potential confounders. Demographic variables encompassed age, gender, ethnicity, educational attainment, marital status, and household income, as well as the household income-to-poverty ratio. Health status indicators included body mass index (BMI), tobacco use, alcohol intake, and the presence of comorbid conditions such as hypertension, diabetes mellitus, and coronary heart disease.

The dataset was split into training and test sets in a ratio of 7:3. Feature variables for final inclusion in the machine learning model were selected using the Boruta method [20]. Following feature selection, four models (CatBoost, Logistic Regression, Multilayer Perceptron(MLP), and Random Forest(RF) were employed to construct and validate the diagnostic models. We adopted a number of key statistical approaches to address potential bias, validity concerns, and the inflation of Type I error rates. First, for missing data, we employed direct deletion. Second, we employed a weighted sampling design (NHANES-based sample weighting) to ensure representativeness and mitigate selection bias. To further ensure the validity of the model and minimize validity concerns, we performed ten-fold cross-validation to assess the stability and generalization ability of the developed model. In addition, we evaluated the performance of the machine learning predictive models using receiver operating characteristic curves (AUC), specificity, recall, F1 score, and accuracy to identify the best diagnostic model, and the calibration curves, as well as decision curve analysis (DCA), to evaluate the calibration and clinical utility of the machine learning models. The SHAP approach was utilized to elucidate the outputs of the machine learning model, offering insight into the contribution of each feature to the ultimate prediction [21].

The analysis employed suitable NHANES sample weights for statistical evaluation. Continuous data were characterised by median (interquartile range), whilst categorical variables were expressed as weighted percentages. Multivariate logistic regression was utilised to explore the interaction between SDoH, SDoHQ, and PSD. In Model 1, the included variables were not adjusted. In Model 2, modifications were implemented for gender and age. Model 3 incorporated modifications for age, gender, race, education, marital status, BMI, smoking habits, alcohol use, hypertension, diabetes, and coronary heart disease. Stratified multivariate regression models were employed to evaluate the association between SDoH and PSD, with subsequent subgroup analyses conducted. Stratification factors served as potential effect modifiers, with heterogeneity assessed through interaction testing. For all regression analyses, we reported effect sizes (Odds Ratio, OR) to evaluate the clinical significance of each variable on the outcome. The threshold for statistical significance was established atP< 0.05. Data were analysed via DecisionLinnc 1.0 software [22], which enables data processing, analysis, and the building of machine learning models via a visual interface.

A total of 1,112 stroke patients were included in this study, of which 907 did not develop PSD and 205 developed PSD(Table1). Regarding age, subjects with PSD were younger, and this difference was statistically significant (p< 0.0001). Additionally, SDoH scores were significantly higher in the PSD group, with a median score of 3.80 (IQR: 3.45–4.15) compared to 2.75 (IQR: 2.57–2.92) in the non-PSD group (p< 0.0001). The PSD group also had a significantly higher BMI, with the difference reaching statistical significance (p= 0.001). In terms of smoking and alcohol use, the proportion of subjects with PSD who smoked and consumed alcohol was significantly higher (p= 0.01). Finally, the analysis of SDoHQ revealed that subjects with PSD were more concentrated in the highest quartile of SDoH (Q4: 21.30% vs. 9.68%), whereas subjects without PSD were more concentrated in the lowest quartile (Q1: 49.85% vs. 26.84%), with a statistically significant difference (p< 0.0001).

Table2presents the results of the association analysis between SDoH and the prevalence of PSD. Logistic regression analysis across all three models demonstrated a significant positive correlation between SDoH and the occurrence of PSD. In Model 1, a significant association was found between SDoH and PSD occurrence, with an odds ratio (OR) of 1.32 (95% CI: 1.19, 1.48),p< 0.0001. After adjusting for covariates, Models 2 and 3 confirmed that the association between SDoH and PSD remained significant. In the comparison of SDoH quartiles in Model 1, the first quartile (Q1) served as the reference group, while quartiles Q2 through Q4 were all positively associated with the occurrence of PSD. Trend analysis revealed a significant positive trend in the relationship between increasing SDoH and the prevalence of PSD (pfor trend < 0.0001).

Figure1illustrates that, in gender stratification, both females and males exhibited a significant association between SDoH and PSD. In the age stratification, both the under 60 and 60 and older groups demonstrated a significantly increased risk of PSD. Racial stratification revealed the strongest association between SDoH and PSD for non-Hispanic whites and individuals of other races, with a significant association also observed for non-Hispanic blacks. However, Mexican Americans and other Hispanics did not reach statistical significance. In the hypertension stratification, SDoH was significantly associated with PSD, regardless of hypertension status. Furthermore, the interaction analysis did not yield statistical significance, indicating that the relationship between SDoH and PSD was independent of other variables.

We screened the training set for relevant features using the Boruta method. Six feature variables (Race, Smoking status, Marital Status, Coronary Heart Disease, Alcohol, and Diabetes) were excluded based on the Tentative and Rejected classifications. We used Boruta analysis to determine the key contributors to the importance ranking, revealing that SDoH emerged as the primary contributor and ranked higher than individual SDoH components in terms of importance (Fig.2A).

In this study, we constructed four ML models to assess the risk of PSD in stroke patients. In terms of clinical applicability, the four models demonstrated robust net benefits across a broad range of threshold probabilities, with the CatBoost model exhibiting the highest net benefit (Fig.2B), highlighting the significant clinical value of our constructed ML models. The ROC curves indicated that all four models (CatBoost, Logistic, MLP, and RF) displayed good predictive performance for PSD (Fig.2C), with the CatBoost model (AUC = 0.966) showing the best performance. Additionally, the calibration curves demonstrated the stability of the results for each model (Fig.2D). We also examined the detailed performance metrics for these models (Supplementary Table 1), which revealed that the CatBoost model outperformed the other three models. Furthermore, we validated the predictive efficacy of the CatBoost model using ten-fold cross-validation, and the ROC curve results (Fig.2E) confirmed that the model exhibited good robustness and generalizability, with no signs of overfitting or underfitting.

To investigate the contribution of the incorporated feature variables in the PSD prediction model, we performed a visualization based on the SHAP principle to illustrate the relative importance of each feature in the CatBoost model. The SHAP-based feature importance ranking plot (Supplementary Fig. 2 A) and the swarm plot (Supplementary Fig. 2B) illustrate the characteristics incorporated in the CatBoost model. Our results indicate that Age, Gender, SDoHQ, Education, and BMI are the top five most important features influencing the prediction of PSD.

This study aimed to explore the association between SDoH and PSD. By analyzing clinical data from 1,112 stroke patients, we found that SDoH was significantly associated with the prevalence of PSD, and this relationship was validated in multiple subgroup analyses. Additionally, we developed a ML model to further demonstrate the clinical value of SDoH as a significant predictor of PSD occurrence.

The results of this study revealed a significant correlation between increasing SDoH and PSD. These findings align with current literature, underscoring the significant influence of social determinants, including socioeconomic position, educational attainment, and housing circumstances, on mental health. For instance, a systematic review has identified a significant association between reduced social networks and post-stroke depression [9], while meta-analyses have shown that social support can reduce the risk of PSD [23]. A cohort study also found that stroke patients with lower educational levels were more likely to develop PSD symptoms [10,11]. These results suggest that adverse social environments may be associated with an increased occurrence of post-stroke depression through various mechanisms. Poor socioeconomic status, lower educational attainment, limited social support, and poor living conditions may all contribute as risk factors for stroke patients experiencing mental health challenges during recovery.

Our study found that younger individuals exhibited a higher propensity for developing PSD. Younger patients may experience greater socially adaptive problems, including employment constraints, family commitments, and insufficient social support, which could heighten their vulnerability to depression symptoms during stroke recovery. In contrast, while older patients may encounter more health problems, they may exhibit greater psychological resilience in coping with major illnesses. Additionally, our study revealed a relatively higher proportion of women with PSD; however, this difference was not statistically significant. A separate systematic evaluation also found no consistent relationship between depression and gender [24]. Furthermore, gender did not show a significant interaction in the analyses, as both male and female groups demonstrated a significant relationship between SDoH and PSD.

Although BMI is commonly used as an indicator of physical health in medical studies, our analyses revealed a strong association between BMI and depressive symptoms. This suggests a potential relationship between obesity and mental health. Obesity may not only cause physical discomfort but also exacerbate depressive symptoms by affecting an individual’s self-image and social interactions. A similar study identified a correlation between obesity and post-stroke anxiety [25].

In this study, we used the Boruta algorithm for feature selection while excluding known risk factors for PSD, such as race, smoking, and marital status. Although these factors have been widely recognized as risk factors for PSD, they demonstrated weak correlations with other selected features in our model and did not notably enhance predictive accuracy during model training. Specifically, the Boruta algorithm assesses the contribution of each feature to predictive performance using a random forest approach, and features are excluded if their importance is lower than that of randomly generated features. This selection method facilitates the enhancement of the model’s simplicity and generalizability, but we understand that this exclusion decision may lead to concerns regarding the validity of the model. Therefore, we plan to further investigate the potential role of these factors, especially in different subgroups, in future studies. Additionally, we will explore alternative feature selection methods and consider incorporating additional clinical variables to enhance the model’s predictive power.

Among the machine learning models for predicting PSD, the CatBoost model demonstrated the best overall predictive performance with an AUC value of 0.966, significantly outperforming the other models. Compared to traditional logistic regression, CatBoost excels at handling complex non-linear relationships, particularly in the analysis of multivariate medical data, demonstrating significant advantages [26]. Logistic regression, as a classical statistical model, provides good interpretability in cases with simple feature relationships. However, in the presence of multidimensional, non-linear data, machine learning methods can capture more potential patterns and relationships, thereby improving prediction accuracy [27].

Furthermore, DCA and calibration curves validate the potential clinical applications of the CatBoost model. Although the ‘black-box’ nature of machine learning models is often criticized, this study improved model interpretability by incorporating SHAP values. This allowed clinicians to visualize the role of each variable, thereby enhancing the model’s clinical applicability [28].

The use of SHAP values enabled a quantitative assessment of the role of individual characteristics in predicting PSD. In the CatBoost model, age, gender, SDoHQ, education, and BMI emerged as the most important predictors. The effects of age and gender are likely linked to known physiological and psychological mechanisms underlying post-stroke depression. The SDoHQ is a comprehensive measure of social health status that emphasizes the correlation between socioeconomic status and mental health [29]. This finding aligns with sociological theory, indicating a strong link between social factors and health outcomes [30].

The model proposed in this study offers a novel approach to PSD risk assessment in clinical settings. First, by quantifying the relationship between SDoH and PSD, clinicians can more precisely identify individuals at risk for early intervention. For patients with high SDoH scores, particularly those with low income, limited education, and insufficient social support, personalized mental health monitoring and intervention plans can be developed to help mitigate the onset and progression of depression. Second, the clinical application of this model may help reduce inequalities in PSD diagnosis and outcomes. By integrating SDoH factors, the models can elucidate the relationship between socioeconomic status and mental health, thereby aiding in identifying groups that are vulnerable to PSD due to poorer social conditions. Existing tools, such as the PHQ-9 and BDI, typically focus on assessing symptoms of depression, but they often overlook external factors such as social determinants of health. In contrast, our model can integrate these social and economic contextual factors to offer a more holistic risk assessment.

Although this study provides valuable evidence regarding the relationship between SDoH and PSD, several limitations remain. First, given that NHANES is a cross-sectional survey, and although we ascertained that subjects had a history of stroke based on self-reported data and classified depressive status using a PHQ-9 score ≥ 10, we could not definitively determine whether depressive symptoms manifested after the stroke. The diagnosis of new-onset post-stroke depression, in the strictest sense, requires validation through longitudinal cohort studies. Second, the CatBoost model demonstrated strong performance in this study (AUC = 0.966), but we recognize that its validation was restricted to internal ten-fold cross-validation, which may carry a risk of overfitting. Currently, no independent stroke-related datasets are available for external validation; thus, the generalizability of the model requires further evaluation, particularly across diverse populations and national datasets. Third, this study employed a PHQ-9 score ≥ 10 as the diagnostic criterion for PSD, which has been widely used in epidemiologic investigations. However, we acknowledge that some depressive symptoms (e.g., malaise, sleep disturbance) could result from somatic conditions in stroke patients, posing a risk of misclassification. Future studies could improve diagnostic accuracy through clinical interviews or detailed assessment of symptom onset timing. Fourth, this study employed a cross-sectional study design, which enabled us to identify only the correlation between SDoH and PSD, but precluded inferring a causal relationship between the two. Furthermore, although the NHANES database provides a wide range of representative data, there may be differences in socio-cultural backgrounds, healthcare systems, and economic conditions in different countries and regions, and these factors may affect the relationship between SDoH and PSD. Therefore, future studies should consider cross-national or cross-cultural samples to validate the generalizability and cross-regional applicability of the model and to ensure that it can be effectively applied to a wider population. Additionally, although this study combined machine learning models and SHAP values, there is room for further improvement, and future research should include additional factors related to PSD, such as a history of depression [31], stroke severity [32], and stroke location [33].

This study demonstrated that SDoH is significantly associated with PSD prevalence, with patients having higher SDoH scores showing increased likelihood of depression. Through the application of machine learning models, we further validated the predictive value of SDoH for identifying PSD. Future longitudinal studies should investigate whether interventions targeting SDoH can reduce the incidence of PSD and explore more refined interventions to improve the overall health of stroke patients.

The authors would like to thank all the colleagues who contributed to this work.

Z.S., J.W. and Y.W. contributed to conceptualization, supervision and writing—review and editing. Y.H. and W.L. contributed to formal analysis and writing—original draft. Y.X. and Y.H. contributed to acquisition of data and statistical analysis. All authors contributed to the article and approved the submitted version.

This work was financially supported in part by research grants from the Natural Science Foundation of Fujian Province, China (2023J02024), Basic scientific research projects of public welfare scientific research institutes in Fujian Province(2024R1012002) and Medical Innovation Project of Fujian Province (2022CXA047).